---
title: Дальнейшие шаги
description: План дальнейших работ по проекту
---

import {
  Aside,
  LinkCard,
  CardGrid,
  Card,
  Steps,
} from "@astrojs/starlight/components";

### Цель

До этого моменты мы старались вести тебя, но пришло время самостоятельного решения задач :)

Ничего сложного - нужно повторить предшествующие шаги для остальных необходимых таблиц, чтобы покрыть
весь требующийся техническим заданием функционал.

### Техническое задание к бэкенду

#### Таблицы базы данных

**События**

|      | Колонка     | Тип данных    | Пример                                               | Описание              |
| ---- | ----------- | ------------- | ---------------------------------------------------- | --------------------- |
| `PK` | id          | `uuid`        | 550e8400-e29b-41d4                                   | идентификатор события |
| `NN` | title       | `text`        | боулинг с командой                                   | название              |
| `NN` | description | `text`        | тц капитолий, 3 этаж                                 | описание              |
| `DF` | image_src   | `text`        | images.unsplash.com/photo-1628139483293-eea5a6b2e0a5 | url изображения       |
| `DF` | confirmed   | `bool`        | false                                                | подтверждение         |
| `NN` | time_from   | `timestamptz` | 2024-03-26 20:10:00+03:00                            | дата/время начала     |
| `NN` | time_to     | `timestamptz` | 2024-03-26 22:20:10+03:00                            | дата/время окончания  |
| `FK` | author_id   | `int8`        | 2                                                    | идентификатор автора  |
| `DF` | confirmed   | `bool`        | false                                                | подтверждение         |

**Участие в событиях**

|      | Колонка     | Тип данных | Описание                |
| ---- | ----------- | ---------- | ----------------------- |
| `PK` | id          | `uuid`     | идентификатор записи    |
| `FK` | employee_id | `int8`     | идентификатор участника |
| `FK` | event_id    | `uuid`     | идентификатор события   |

**Мерч**

|      | Колонка     | Тип данных | Описание                                             |
| ---- | ----------- | ---------- | ---------------------------------------------------- | --------------- |
| `PK` | id          | `uuid`     | 550e8400-e29b-41d4                                   | идентификатор   |
| `UQ` | title       | `text`     | Худи продавана                                       | название        |
|      | description | `text`     | Со сквозным карманом и нашивкой лого                 | описание        |
| `DF` | image_src   | `text`     | images.unsplash.com/photo-1422728280635-45167d8b7197 | url изображения |
| `NN` | price       | `int8`     | 20                                                   | стоимость       |

**Заказы на мерч**

|      | Колонка     | Тип данных    | Описание                 |
| ---- | ----------- | ------------- | ------------------------ |
| `PK` | id          | `uuid`        | идентификатор записи     |
| `FK` | employee_id | `int8`        | идентификатор сотрудника |
| `FK` | product_id  | `uuid`        | идентификатор мерча      |
| `DF` | created_at  | `timestamptz` | дата/время создания      |

<Aside type="note" title="Рекомендация">
  Схемы таблиц - ориентировочные, ты можешь вносить изменения, обсудив их с
  командой
</Aside>

#### Сценарий тестирования

<Steps>
  1. **Сотрудник#1** создает тестовое событие. 2. **Сотрудник#2** и
  **Сотрудник#3** записываются на тестовое событие. 3. После старта события
  **Администратор#1** подтверждает событие и участие в нем **Сотрудника#3**. 4.
  По окончанию мероприятия: - **сотруднику#1** начисляется *N* баллов за
  проведение события; - **сотруднику#2** баллы *не* начисляются; -
  **сотруднику#3** начисляется *M* баллов за участие в событии. 5.
  **Сотруднику#1** хватает баллов на одну из нескольких позиций мерча. 6.
  **Сотрудник#1** приобретает одну из позиций, у него снимаются баллы, другая
  позиция становится недоступной. 7. **Администратор#1** получает информацию о
  заказе.
</Steps>

#### Спецификация API

| HTTP-запрос | Ресурс    | Параметры                     | Описание                                   |
| ----------- | --------- | ----------------------------- | ------------------------------------------ |
| GET         | employees | фильтр, сортировка, пагинация | получить данные о сотрудниках              |
| PATCH       | employees | фильтр                        | обновить данные о сотруднике / сотрудниках |
| GET         | events    | фильтр, сортировка, пагинация | получить данные о событиях                 |
| POST        | events    |                               | добавить событие                           |
| PATCH       | events    | фильтр                        | обновить данные о событии / событиях       |
| DELETE      | events    | фильтр                        | удалить событие / события                  |
| GET         | products  | фильтр, сортировка, пагинация | получить данные о мерче                    |
| PATCH       | products  | фильтр                        | изменить данные о мерче                    |
| GET         | orders    | фильтр, сортировка, пагинация | получить данные о заказах                  |
| POST        | orders    |                               | добавить заказ                             |

**Для роли сотрудника**

- `READ` краткой информации по всем сотрудникам;
- `READ` полной информации о себе;
- `READ` будущих мероприятий, в которых сотрудник не является автором;
- `CRUD` будущих мероприятий, в которых сотрудник является автором;
- `CREATE / DELETE` участия в мероприятиях;
- `READ` мерча, доступного для покупки сейчас;
- `READ` рекомендованного мерча (например, популярное или следующие по стоимости);
- `CREATE` заказов мерча.

**Для роли администратора**

- `READ` полной информации по всем сотрудникам;
- `READ` прошедших мероприятий;
- `CRUD` будущих мероприятий;
- `CRUD` участия в мероприятиях;
- `CRUD` мерча;
- `READ` заказов мерча.

<Aside type="note" title="Рекомендация">
  Список возвращаемых полей, сортировку, фильтрацию и пагинацию стоит обсудить с
  командой.
</Aside>

### Что посмотреть по теме

<LinkCard
  title="Learn Supabase"
  description="full course for beginners [3 hours]"
  href="https://www.youtube.com/watch?v=8DTOTT7q0XA&list=PL8HkCX2C5h0W-Fr3NEfOprzTRHICMGyOX&index=22"
  target="_blank"
/>
<LinkCard
  title="Full-Stack Web App"
  description=" with Supabase and Next.js [1 hour]"
  href="https://www.youtube.com/watch?v=kDGovtwtcyU&list=PL8HkCX2C5h0W-Fr3NEfOprzTRHICMGyOX&index=24"
  target="_blank"
/>
<LinkCard
  title="React Admin Dashboard"
  description=" build and deploy [5.5 hours]"
  href="https://www.youtube.com/watch?v=6a3Dz8gwjdg"
  target="_blank"
/>
